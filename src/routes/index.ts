import express from 'express';
import { getAllCars, createCars, editCars, deleteCar ,getSingleCars} from '../controllers/controller';

import { uploadMultiple } from '../middleware/multer';
import { checkRole, verifyToken } from '../middleware/AuthMiddleware';



const router = express.Router();

router.get('/users', getAllCars);

router.get('/user/:id', getSingleCars)

router.post('/add', verifyToken, checkRole(["admin"]), uploadMultiple, createCars ); // Ensure 'image' matches the field name in your form

router.put('/edit/:id', verifyToken, checkRole(["admin"]),uploadMultiple,editCars,);  
 
router.delete('/delete/:id', verifyToken, checkRole(["admin"]), deleteCar,  )

export default router;

